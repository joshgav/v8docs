\hypertarget{classv8_1_1_persistent_value_map_base}{}\section{v8\+:\+:Persistent\+Value\+Map\+Base$<$ K, V, Traits $>$ Class Template Reference}
\label{classv8_1_1_persistent_value_map_base}\index{v8\+::\+Persistent\+Value\+Map\+Base$<$ K, V, Traits $>$@{v8\+::\+Persistent\+Value\+Map\+Base$<$ K, V, Traits $>$}}


{\ttfamily \#include $<$v8-\/util.\+h$>$}

Inheritance diagram for v8\+:\+:Persistent\+Value\+Map\+Base$<$ K, V, Traits $>$\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{classv8_1_1_persistent_value_map_base}
\end{center}
\end{figure}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classv8_1_1_persistent_value_map_base_1_1_persistent_value_reference}{Persistent\+Value\+Reference}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classv8_1_1_isolate}{Isolate} $\ast$ {\bfseries Get\+Isolate} ()\hypertarget{classv8_1_1_persistent_value_map_base_a80da7adc6e8bdb166912075346116978}{}\label{classv8_1_1_persistent_value_map_base_a80da7adc6e8bdb166912075346116978}

\item 
size\+\_\+t \hyperlink{classv8_1_1_persistent_value_map_base_ade5c5db2a968fdabe073649e85b837eb}{Size} ()
\item 
bool \hyperlink{classv8_1_1_persistent_value_map_base_a9f824b13dd30605589508db2740dd678}{Is\+Weak} ()
\item 
\hyperlink{classv8_1_1_local}{Local}$<$ V $>$ \hyperlink{classv8_1_1_persistent_value_map_base_a16b8f906ea42036c2f37d44813bf2a72}{Get} (const K \&key)
\item 
bool \hyperlink{classv8_1_1_persistent_value_map_base_a8c68e5f99c4042541c6d32232c97282a}{Contains} (const K \&key)
\item 
bool \hyperlink{classv8_1_1_persistent_value_map_base_a85201649d2bbd0ffdebe8be3d5c6447a}{Set\+Return\+Value} (const K \&key, \hyperlink{classv8_1_1_return_value}{Return\+Value}$<$ \hyperlink{classv8_1_1_value}{Value} $>$ return\+Value)
\item 
void \hyperlink{classv8_1_1_persistent_value_map_base_a6fa5f720b283dd9fa626a67e7687dcd0}{Set\+Reference} (const K \&key, const \hyperlink{classv8_1_1_persistent}{Persistent}$<$ \hyperlink{classv8_1_1_object}{Object} $>$ \&parent)
\item 
void \hyperlink{classv8_1_1_persistent_value_map_base_a7d1cd63172b997dfaac9d0f009edd709}{Register\+Externally\+Referenced\+Object} (K \&key)
\item 
\hyperlink{classv8_1_1_global}{Global}$<$ V $>$ \hyperlink{classv8_1_1_persistent_value_map_base_abd75a4c050416712167ba0bb9eace097}{Remove} (const K \&key)
\item 
void \hyperlink{classv8_1_1_persistent_value_map_base_a1bf074e7a7c24713c9a3d40ddce89e74}{Clear} ()
\item 
\hyperlink{classv8_1_1_persistent_value_map_base_1_1_persistent_value_reference}{Persistent\+Value\+Reference} \hyperlink{classv8_1_1_persistent_value_map_base_a52e74c69b94c7ce77a65af9f32d68af4}{Get\+Reference} (const K \&key)
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
{\bfseries Persistent\+Value\+Map\+Base} (\hyperlink{classv8_1_1_isolate}{Isolate} $\ast$isolate)\hypertarget{classv8_1_1_persistent_value_map_base_a1adee3f8b1ff929f07ddf9e94c6108ed}{}\label{classv8_1_1_persistent_value_map_base_a1adee3f8b1ff929f07ddf9e94c6108ed}

\item 
\hyperlink{classv8_1_1_isolate}{Isolate} $\ast$ {\bfseries isolate} ()\hypertarget{classv8_1_1_persistent_value_map_base_af2e83791955c6027213dd979eebeb8f4}{}\label{classv8_1_1_persistent_value_map_base_af2e83791955c6027213dd979eebeb8f4}

\item 
Traits\+::\+Impl $\ast$ {\bfseries impl} ()\hypertarget{classv8_1_1_persistent_value_map_base_aacd576258fbffaf366436a6ecdd8cdf5}{}\label{classv8_1_1_persistent_value_map_base_aacd576258fbffaf366436a6ecdd8cdf5}

\item 
void {\bfseries Remove\+Weak} (const K \&key)\hypertarget{classv8_1_1_persistent_value_map_base_a5c16ace49c257f760c92a010a93b4884}{}\label{classv8_1_1_persistent_value_map_base_a5c16ace49c257f760c92a010a93b4884}

\end{DoxyCompactItemize}
\subsection*{Static Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
static V $\ast$ {\bfseries From\+Val} (Persistent\+Container\+Value v)\hypertarget{classv8_1_1_persistent_value_map_base_af8fcd471f2d53ffca9881f7c436044e8}{}\label{classv8_1_1_persistent_value_map_base_af8fcd471f2d53ffca9881f7c436044e8}

\item 
static Persistent\+Container\+Value {\bfseries Clear\+And\+Leak} (\hyperlink{classv8_1_1_global}{Global}$<$ V $>$ $\ast$persistent)\hypertarget{classv8_1_1_persistent_value_map_base_a7b083c75829bbc4177729ffe9827c4ac}{}\label{classv8_1_1_persistent_value_map_base_a7b083c75829bbc4177729ffe9827c4ac}

\item 
static Persistent\+Container\+Value {\bfseries Leak} (\hyperlink{classv8_1_1_global}{Global}$<$ V $>$ $\ast$persistent)\hypertarget{classv8_1_1_persistent_value_map_base_adacf68ca7b9fb19deab68711a70a8313}{}\label{classv8_1_1_persistent_value_map_base_adacf68ca7b9fb19deab68711a70a8313}

\item 
static \hyperlink{classv8_1_1_global}{Global}$<$ V $>$ \hyperlink{classv8_1_1_persistent_value_map_base_a9ffa7a4e0c59121c0471d71c04112966}{Release} (Persistent\+Container\+Value v)
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
{\bfseries Persistent\+Value\+Map\+Base} (\hyperlink{classv8_1_1_persistent_value_map_base}{Persistent\+Value\+Map\+Base} \&)\hypertarget{classv8_1_1_persistent_value_map_base_af083c2f017cdbd5d11cc26cefd62ee89}{}\label{classv8_1_1_persistent_value_map_base_af083c2f017cdbd5d11cc26cefd62ee89}

\item 
void {\bfseries operator=} (\hyperlink{classv8_1_1_persistent_value_map_base}{Persistent\+Value\+Map\+Base} \&)\hypertarget{classv8_1_1_persistent_value_map_base_ae18eeb1c509804447ddb6dbe18463259}{}\label{classv8_1_1_persistent_value_map_base_ae18eeb1c509804447ddb6dbe18463259}

\end{DoxyCompactItemize}
\subsection*{Static Private Member Functions}
\begin{DoxyCompactItemize}
\item 
static bool {\bfseries Set\+Return\+Value\+From\+Val} (\hyperlink{classv8_1_1_return_value}{Return\+Value}$<$ \hyperlink{classv8_1_1_value}{Value} $>$ $\ast$return\+Value, Persistent\+Container\+Value value)\hypertarget{classv8_1_1_persistent_value_map_base_ade3df16080e354eb430edc1a45e05007}{}\label{classv8_1_1_persistent_value_map_base_ade3df16080e354eb430edc1a45e05007}

\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classv8_1_1_isolate}{Isolate} $\ast$ {\bfseries isolate\+\_\+}\hypertarget{classv8_1_1_persistent_value_map_base_ade71227119d310117c0aefdea1c03ba5}{}\label{classv8_1_1_persistent_value_map_base_ade71227119d310117c0aefdea1c03ba5}

\item 
Traits\+::\+Impl {\bfseries impl\+\_\+}\hypertarget{classv8_1_1_persistent_value_map_base_ab72a180bc12ace83c2b29b711476bf6a}{}\label{classv8_1_1_persistent_value_map_base_ab72a180bc12ace83c2b29b711476bf6a}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
\subsubsection*{template$<$typename K, typename V, typename Traits$>$\\*
class v8\+::\+Persistent\+Value\+Map\+Base$<$ K, V, Traits $>$}

A map wrapper that allows using \hyperlink{classv8_1_1_global}{Global} as a mapped value. C++11 embedders don\textquotesingle{}t need this class, as they can use \hyperlink{classv8_1_1_global}{Global} directly in std containers.

The map relies on a backing map, whose type and accessors are described by the Traits class. The backing map will handle values of type Persistent\+Container\+Value, with all conversion into and out of \hyperlink{classv8_1_1_v8}{V8} handles being transparently handled by this class. 

\subsection{Member Function Documentation}
\index{v8\+::\+Persistent\+Value\+Map\+Base@{v8\+::\+Persistent\+Value\+Map\+Base}!Clear@{Clear}}
\index{Clear@{Clear}!v8\+::\+Persistent\+Value\+Map\+Base@{v8\+::\+Persistent\+Value\+Map\+Base}}
\subsubsection[{\texorpdfstring{Clear()}{Clear()}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename K , typename V , typename Traits $>$ void {\bf v8\+::\+Persistent\+Value\+Map\+Base}$<$ K, V, Traits $>$\+::Clear (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classv8_1_1_persistent_value_map_base_a1bf074e7a7c24713c9a3d40ddce89e74}{}\label{classv8_1_1_persistent_value_map_base_a1bf074e7a7c24713c9a3d40ddce89e74}
Traverses the map repeatedly, in case side effects of disposal cause insertions. \index{v8\+::\+Persistent\+Value\+Map\+Base@{v8\+::\+Persistent\+Value\+Map\+Base}!Contains@{Contains}}
\index{Contains@{Contains}!v8\+::\+Persistent\+Value\+Map\+Base@{v8\+::\+Persistent\+Value\+Map\+Base}}
\subsubsection[{\texorpdfstring{Contains(const K \&key)}{Contains(const K &key)}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename K , typename V , typename Traits $>$ bool {\bf v8\+::\+Persistent\+Value\+Map\+Base}$<$ K, V, Traits $>$\+::Contains (
\begin{DoxyParamCaption}
\item[{const K \&}]{key}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classv8_1_1_persistent_value_map_base_a8c68e5f99c4042541c6d32232c97282a}{}\label{classv8_1_1_persistent_value_map_base_a8c68e5f99c4042541c6d32232c97282a}
Check whether a value is contained in the map. \index{v8\+::\+Persistent\+Value\+Map\+Base@{v8\+::\+Persistent\+Value\+Map\+Base}!Get@{Get}}
\index{Get@{Get}!v8\+::\+Persistent\+Value\+Map\+Base@{v8\+::\+Persistent\+Value\+Map\+Base}}
\subsubsection[{\texorpdfstring{Get(const K \&key)}{Get(const K &key)}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename K , typename V , typename Traits $>$ {\bf Local}$<$V$>$ {\bf v8\+::\+Persistent\+Value\+Map\+Base}$<$ K, V, Traits $>$\+::Get (
\begin{DoxyParamCaption}
\item[{const K \&}]{key}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classv8_1_1_persistent_value_map_base_a16b8f906ea42036c2f37d44813bf2a72}{}\label{classv8_1_1_persistent_value_map_base_a16b8f906ea42036c2f37d44813bf2a72}
Get value stored in map. \index{v8\+::\+Persistent\+Value\+Map\+Base@{v8\+::\+Persistent\+Value\+Map\+Base}!Get\+Reference@{Get\+Reference}}
\index{Get\+Reference@{Get\+Reference}!v8\+::\+Persistent\+Value\+Map\+Base@{v8\+::\+Persistent\+Value\+Map\+Base}}
\subsubsection[{\texorpdfstring{Get\+Reference(const K \&key)}{GetReference(const K &key)}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename K , typename V , typename Traits $>$ {\bf Persistent\+Value\+Reference} {\bf v8\+::\+Persistent\+Value\+Map\+Base}$<$ K, V, Traits $>$\+::Get\+Reference (
\begin{DoxyParamCaption}
\item[{const K \&}]{key}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classv8_1_1_persistent_value_map_base_a52e74c69b94c7ce77a65af9f32d68af4}{}\label{classv8_1_1_persistent_value_map_base_a52e74c69b94c7ce77a65af9f32d68af4}
Get a reference to a map value. This enables fast, repeated access to a value stored in the map while the map remains unchanged.

Careful\+: This is potentially unsafe, so please use with care. The value will become invalid if the value for this key changes in the underlying map, as a result of \hyperlink{classv8_1_1_set}{Set} or Remove for the same key; as a result of the weak callback for the same key; or as a result of calling \hyperlink{classv8_1_1_persistent_value_map_base_a1bf074e7a7c24713c9a3d40ddce89e74}{Clear()} or destruction of the map. \index{v8\+::\+Persistent\+Value\+Map\+Base@{v8\+::\+Persistent\+Value\+Map\+Base}!Is\+Weak@{Is\+Weak}}
\index{Is\+Weak@{Is\+Weak}!v8\+::\+Persistent\+Value\+Map\+Base@{v8\+::\+Persistent\+Value\+Map\+Base}}
\subsubsection[{\texorpdfstring{Is\+Weak()}{IsWeak()}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename K , typename V , typename Traits $>$ bool {\bf v8\+::\+Persistent\+Value\+Map\+Base}$<$ K, V, Traits $>$\+::Is\+Weak (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classv8_1_1_persistent_value_map_base_a9f824b13dd30605589508db2740dd678}{}\label{classv8_1_1_persistent_value_map_base_a9f824b13dd30605589508db2740dd678}
Return whether the map holds weak persistents. \index{v8\+::\+Persistent\+Value\+Map\+Base@{v8\+::\+Persistent\+Value\+Map\+Base}!Register\+Externally\+Referenced\+Object@{Register\+Externally\+Referenced\+Object}}
\index{Register\+Externally\+Referenced\+Object@{Register\+Externally\+Referenced\+Object}!v8\+::\+Persistent\+Value\+Map\+Base@{v8\+::\+Persistent\+Value\+Map\+Base}}
\subsubsection[{\texorpdfstring{Register\+Externally\+Referenced\+Object(\+K \&key)}{RegisterExternallyReferencedObject(K &key)}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename K , typename V , typename Traits $>$ void {\bf v8\+::\+Persistent\+Value\+Map\+Base}$<$ K, V, Traits $>$\+::Register\+Externally\+Referenced\+Object (
\begin{DoxyParamCaption}
\item[{K \&}]{key}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classv8_1_1_persistent_value_map_base_a7d1cd63172b997dfaac9d0f009edd709}{}\label{classv8_1_1_persistent_value_map_base_a7d1cd63172b997dfaac9d0f009edd709}
Call V8\+::\+Register\+Externally\+Referenced\+Object with the map value for given key. \index{v8\+::\+Persistent\+Value\+Map\+Base@{v8\+::\+Persistent\+Value\+Map\+Base}!Release@{Release}}
\index{Release@{Release}!v8\+::\+Persistent\+Value\+Map\+Base@{v8\+::\+Persistent\+Value\+Map\+Base}}
\subsubsection[{\texorpdfstring{Release(\+Persistent\+Container\+Value v)}{Release(PersistentContainerValue v)}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename K , typename V , typename Traits $>$ static {\bf Global}$<$V$>$ {\bf v8\+::\+Persistent\+Value\+Map\+Base}$<$ K, V, Traits $>$\+::Release (
\begin{DoxyParamCaption}
\item[{Persistent\+Container\+Value}]{v}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}, {\ttfamily [protected]}}\hypertarget{classv8_1_1_persistent_value_map_base_a9ffa7a4e0c59121c0471d71c04112966}{}\label{classv8_1_1_persistent_value_map_base_a9ffa7a4e0c59121c0471d71c04112966}
Return a container value as \hyperlink{classv8_1_1_global}{Global} and make sure the weak callback is properly disposed of. All remove functionality should go through this. \index{v8\+::\+Persistent\+Value\+Map\+Base@{v8\+::\+Persistent\+Value\+Map\+Base}!Remove@{Remove}}
\index{Remove@{Remove}!v8\+::\+Persistent\+Value\+Map\+Base@{v8\+::\+Persistent\+Value\+Map\+Base}}
\subsubsection[{\texorpdfstring{Remove(const K \&key)}{Remove(const K &key)}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename K , typename V , typename Traits $>$ {\bf Global}$<$V$>$ {\bf v8\+::\+Persistent\+Value\+Map\+Base}$<$ K, V, Traits $>$\+::Remove (
\begin{DoxyParamCaption}
\item[{const K \&}]{key}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classv8_1_1_persistent_value_map_base_abd75a4c050416712167ba0bb9eace097}{}\label{classv8_1_1_persistent_value_map_base_abd75a4c050416712167ba0bb9eace097}
Return value for key and remove it from the map. \index{v8\+::\+Persistent\+Value\+Map\+Base@{v8\+::\+Persistent\+Value\+Map\+Base}!Set\+Reference@{Set\+Reference}}
\index{Set\+Reference@{Set\+Reference}!v8\+::\+Persistent\+Value\+Map\+Base@{v8\+::\+Persistent\+Value\+Map\+Base}}
\subsubsection[{\texorpdfstring{Set\+Reference(const K \&key, const Persistent$<$ Object $>$ \&parent)}{SetReference(const K &key, const Persistent< Object > &parent)}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename K , typename V , typename Traits $>$ void {\bf v8\+::\+Persistent\+Value\+Map\+Base}$<$ K, V, Traits $>$\+::Set\+Reference (
\begin{DoxyParamCaption}
\item[{const K \&}]{key, }
\item[{const {\bf Persistent}$<$ {\bf Object} $>$ \&}]{parent}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classv8_1_1_persistent_value_map_base_a6fa5f720b283dd9fa626a67e7687dcd0}{}\label{classv8_1_1_persistent_value_map_base_a6fa5f720b283dd9fa626a67e7687dcd0}
Call \hyperlink{classv8_1_1_isolate_a055fc73d18747b96c51f00599cdd3ec1}{Isolate\+::\+Set\+Reference} with the given parent and the map value. \index{v8\+::\+Persistent\+Value\+Map\+Base@{v8\+::\+Persistent\+Value\+Map\+Base}!Set\+Return\+Value@{Set\+Return\+Value}}
\index{Set\+Return\+Value@{Set\+Return\+Value}!v8\+::\+Persistent\+Value\+Map\+Base@{v8\+::\+Persistent\+Value\+Map\+Base}}
\subsubsection[{\texorpdfstring{Set\+Return\+Value(const K \&key, Return\+Value$<$ Value $>$ return\+Value)}{SetReturnValue(const K &key, ReturnValue< Value > returnValue)}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename K , typename V , typename Traits $>$ bool {\bf v8\+::\+Persistent\+Value\+Map\+Base}$<$ K, V, Traits $>$\+::Set\+Return\+Value (
\begin{DoxyParamCaption}
\item[{const K \&}]{key, }
\item[{{\bf Return\+Value}$<$ {\bf Value} $>$}]{return\+Value}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classv8_1_1_persistent_value_map_base_a85201649d2bbd0ffdebe8be3d5c6447a}{}\label{classv8_1_1_persistent_value_map_base_a85201649d2bbd0ffdebe8be3d5c6447a}
Get value stored in map and set it in return\+Value. Return true if a value was found. \index{v8\+::\+Persistent\+Value\+Map\+Base@{v8\+::\+Persistent\+Value\+Map\+Base}!Size@{Size}}
\index{Size@{Size}!v8\+::\+Persistent\+Value\+Map\+Base@{v8\+::\+Persistent\+Value\+Map\+Base}}
\subsubsection[{\texorpdfstring{Size()}{Size()}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename K , typename V , typename Traits $>$ size\+\_\+t {\bf v8\+::\+Persistent\+Value\+Map\+Base}$<$ K, V, Traits $>$\+::Size (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classv8_1_1_persistent_value_map_base_ade5c5db2a968fdabe073649e85b837eb}{}\label{classv8_1_1_persistent_value_map_base_ade5c5db2a968fdabe073649e85b837eb}
Return size of the map. 

The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
include/v8-\/util.\+h\end{DoxyCompactItemize}
