\hypertarget{classv8_1_1_script_compiler_1_1_external_source_stream}{}\section{v8\+:\+:Script\+Compiler\+:\+:External\+Source\+Stream Class Reference}
\label{classv8_1_1_script_compiler_1_1_external_source_stream}\index{v8\+::\+Script\+Compiler\+::\+External\+Source\+Stream@{v8\+::\+Script\+Compiler\+::\+External\+Source\+Stream}}


{\ttfamily \#include $<$v8.\+h$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual size\+\_\+t \hyperlink{classv8_1_1_script_compiler_1_1_external_source_stream_ac3a0221b5725f0b612a6342d8e83d899}{Get\+More\+Data} (const uint8\+\_\+t $\ast$$\ast$src)=0
\item 
virtual bool \hyperlink{classv8_1_1_script_compiler_1_1_external_source_stream_a0012cebde92a3a61ec033e3abc2dd2ee}{Set\+Bookmark} ()
\item 
virtual void \hyperlink{classv8_1_1_script_compiler_1_1_external_source_stream_af950fd00676e6bdb8642791f651b161a}{Reset\+To\+Bookmark} ()
\end{DoxyCompactItemize}


\subsection{Detailed Description}
For streaming incomplete script data to \hyperlink{classv8_1_1_v8}{V8}. The embedder should implement a subclass of this class. 

\subsection{Member Function Documentation}
\index{v8\+::\+Script\+Compiler\+::\+External\+Source\+Stream@{v8\+::\+Script\+Compiler\+::\+External\+Source\+Stream}!Get\+More\+Data@{Get\+More\+Data}}
\index{Get\+More\+Data@{Get\+More\+Data}!v8\+::\+Script\+Compiler\+::\+External\+Source\+Stream@{v8\+::\+Script\+Compiler\+::\+External\+Source\+Stream}}
\subsubsection[{\texorpdfstring{Get\+More\+Data(const uint8\+\_\+t $\ast$$\ast$src)=0}{GetMoreData(const uint8_t **src)=0}}]{\setlength{\rightskip}{0pt plus 5cm}virtual size\+\_\+t v8\+::\+Script\+Compiler\+::\+External\+Source\+Stream\+::\+Get\+More\+Data (
\begin{DoxyParamCaption}
\item[{const uint8\+\_\+t $\ast$$\ast$}]{src}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [pure virtual]}}\hypertarget{classv8_1_1_script_compiler_1_1_external_source_stream_ac3a0221b5725f0b612a6342d8e83d899}{}\label{classv8_1_1_script_compiler_1_1_external_source_stream_ac3a0221b5725f0b612a6342d8e83d899}
\hyperlink{classv8_1_1_v8}{V8} calls this to request the next chunk of data from the embedder. This function will be called on a background thread, so it\textquotesingle{}s OK to block and wait for the data, if the embedder doesn\textquotesingle{}t have data yet. Returns the length of the data returned. When the data ends, Get\+More\+Data should return 0. Caller takes ownership of the data.

When streaming U\+T\+F-\/8 data, \hyperlink{classv8_1_1_v8}{V8} handles multi-\/byte characters split between two data chunks, but doesn\textquotesingle{}t handle multi-\/byte characters split between more than two data chunks. The embedder can avoid this problem by always returning at least 2 bytes of data.

If the embedder wants to cancel the streaming, they should make the next Get\+More\+Data call return 0. \hyperlink{classv8_1_1_v8}{V8} will interpret it as end of data (and most probably, parsing will fail). The streaming task will return as soon as \hyperlink{classv8_1_1_v8}{V8} has parsed the data it received so far. \index{v8\+::\+Script\+Compiler\+::\+External\+Source\+Stream@{v8\+::\+Script\+Compiler\+::\+External\+Source\+Stream}!Reset\+To\+Bookmark@{Reset\+To\+Bookmark}}
\index{Reset\+To\+Bookmark@{Reset\+To\+Bookmark}!v8\+::\+Script\+Compiler\+::\+External\+Source\+Stream@{v8\+::\+Script\+Compiler\+::\+External\+Source\+Stream}}
\subsubsection[{\texorpdfstring{Reset\+To\+Bookmark()}{ResetToBookmark()}}]{\setlength{\rightskip}{0pt plus 5cm}void v8\+::\+Script\+Compiler\+::\+External\+Source\+Stream\+::\+Reset\+To\+Bookmark (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classv8_1_1_script_compiler_1_1_external_source_stream_af950fd00676e6bdb8642791f651b161a}{}\label{classv8_1_1_script_compiler_1_1_external_source_stream_af950fd00676e6bdb8642791f651b161a}
\hyperlink{classv8_1_1_v8}{V8} calls this to return to a previously set bookmark. \index{v8\+::\+Script\+Compiler\+::\+External\+Source\+Stream@{v8\+::\+Script\+Compiler\+::\+External\+Source\+Stream}!Set\+Bookmark@{Set\+Bookmark}}
\index{Set\+Bookmark@{Set\+Bookmark}!v8\+::\+Script\+Compiler\+::\+External\+Source\+Stream@{v8\+::\+Script\+Compiler\+::\+External\+Source\+Stream}}
\subsubsection[{\texorpdfstring{Set\+Bookmark()}{SetBookmark()}}]{\setlength{\rightskip}{0pt plus 5cm}bool v8\+::\+Script\+Compiler\+::\+External\+Source\+Stream\+::\+Set\+Bookmark (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classv8_1_1_script_compiler_1_1_external_source_stream_a0012cebde92a3a61ec033e3abc2dd2ee}{}\label{classv8_1_1_script_compiler_1_1_external_source_stream_a0012cebde92a3a61ec033e3abc2dd2ee}
\hyperlink{classv8_1_1_v8}{V8} calls this method to set a \textquotesingle{}bookmark\textquotesingle{} at the current position in the source stream, for the purpose of (maybe) later calling Reset\+To\+Bookmark. If Reset\+To\+Bookmark is called later, then subsequent calls to Get\+More\+Data should return the same data as they did when Set\+Bookmark was called earlier.

The embedder may return \textquotesingle{}false\textquotesingle{} to indicate it cannot provide this functionality. 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/\+Users/joshgav/node/v8/include/v8.\+h\item 
/\+Users/joshgav/node/v8/src/api.\+cc\end{DoxyCompactItemize}
